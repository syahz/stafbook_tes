import{U as j,j as s,r as n}from"./app-BpqEnB6c.js";import{c as ae,u as W,S as se,P as _,a as De,b as Fe,d as P,e as U,B as Me,R as Le,f as Oe,g as ke,h as Ve,i as M,j as Ke,X as $e,k as He}from"./utils-CNg3UIE2.js";import{r as We}from"./index-DZDcTojV.js";function Ue(e){const t=e+"CollectionProvider",[o,r]=ae(t),[l,p]=o(t,{collectionRef:{current:null},itemMap:new Map}),f=h=>{const{scope:E,children:d}=h,a=j.useRef(null),m=j.useRef(new Map).current;return s.jsx(l,{scope:E,itemMap:m,collectionRef:a,children:d})};f.displayName=t;const w=e+"CollectionSlot",T=j.forwardRef((h,E)=>{const{scope:d,children:a}=h,m=p(w,d),u=W(E,m.collectionRef);return s.jsx(se,{ref:u,children:a})});T.displayName=w;const i=e+"CollectionItemSlot",C="data-radix-collection-item",y=j.forwardRef((h,E)=>{const{scope:d,children:a,...m}=h,u=j.useRef(null),v=W(E,u),x=p(i,d);return j.useEffect(()=>(x.itemMap.set(u,{ref:u,...m}),()=>void x.itemMap.delete(u))),s.jsx(se,{[C]:"",ref:v,children:a})});y.displayName=i;function S(h){const E=p(e+"CollectionConsumer",h);return j.useCallback(()=>{const a=E.collectionRef.current;if(!a)return[];const m=Array.from(a.querySelectorAll(`[${C}]`));return Array.from(E.itemMap.values()).sort((x,g)=>m.indexOf(x.ref.current)-m.indexOf(g.ref.current))},[E.collectionRef,E.itemMap])}return[{Provider:f,Slot:T,ItemSlot:y},S,r]}var Xe="VisuallyHidden",Z=n.forwardRef((e,t)=>s.jsx(_.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Z.displayName=Xe;var ee="ToastProvider",[te,Ye,Be]=Ue("Toast"),[ie,xt]=ae("Toast",[Be]),[qe,X]=ie(ee),ce=e=>{const{__scopeToast:t,label:o="Notification",duration:r=5e3,swipeDirection:l="right",swipeThreshold:p=50,children:f}=e,[w,T]=n.useState(null),[i,C]=n.useState(0),y=n.useRef(!1),S=n.useRef(!1);return o.trim()||console.error(`Invalid prop \`label\` supplied to \`${ee}\`. Expected non-empty \`string\`.`),s.jsx(te.Provider,{scope:t,children:s.jsx(qe,{scope:t,label:o,duration:r,swipeDirection:l,swipeThreshold:p,toastCount:i,viewport:w,onViewportChange:T,onToastAdd:n.useCallback(()=>C(h=>h+1),[]),onToastRemove:n.useCallback(()=>C(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:y,isClosePausedRef:S,children:f})})};ce.displayName=ee;var le="ToastViewport",ze=["F8"],G="toast.viewportPause",J="toast.viewportResume",de=n.forwardRef((e,t)=>{const{__scopeToast:o,hotkey:r=ze,label:l="Notifications ({hotkey})",...p}=e,f=X(le,o),w=Ye(o),T=n.useRef(null),i=n.useRef(null),C=n.useRef(null),y=n.useRef(null),S=W(t,y,f.onViewportChange),h=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),E=f.toastCount>0;n.useEffect(()=>{const a=m=>{var v;r.length!==0&&r.every(x=>m[x]||m.code===x)&&((v=y.current)==null||v.focus())};return document.addEventListener("keydown",a),()=>document.removeEventListener("keydown",a)},[r]),n.useEffect(()=>{const a=T.current,m=y.current;if(E&&a&&m){const u=()=>{if(!f.isClosePausedRef.current){const R=new CustomEvent(G);m.dispatchEvent(R),f.isClosePausedRef.current=!0}},v=()=>{if(f.isClosePausedRef.current){const R=new CustomEvent(J);m.dispatchEvent(R),f.isClosePausedRef.current=!1}},x=R=>{!a.contains(R.relatedTarget)&&v()},g=()=>{a.contains(document.activeElement)||v()};return a.addEventListener("focusin",u),a.addEventListener("focusout",x),a.addEventListener("pointermove",u),a.addEventListener("pointerleave",g),window.addEventListener("blur",u),window.addEventListener("focus",v),()=>{a.removeEventListener("focusin",u),a.removeEventListener("focusout",x),a.removeEventListener("pointermove",u),a.removeEventListener("pointerleave",g),window.removeEventListener("blur",u),window.removeEventListener("focus",v)}}},[E,f.isClosePausedRef]);const d=n.useCallback(({tabbingDirection:a})=>{const u=w().map(v=>{const x=v.ref.current,g=[x,...ct(x)];return a==="forwards"?g:g.reverse()});return(a==="forwards"?u.reverse():u).flat()},[w]);return n.useEffect(()=>{const a=y.current;if(a){const m=u=>{var g,R,I;const v=u.altKey||u.ctrlKey||u.metaKey;if(u.key==="Tab"&&!v){const L=document.activeElement,D=u.shiftKey;if(u.target===a&&D){(g=i.current)==null||g.focus();return}const A=d({tabbingDirection:D?"backwards":"forwards"}),V=A.findIndex(c=>c===L);z(A.slice(V+1))?u.preventDefault():D?(R=i.current)==null||R.focus():(I=C.current)==null||I.focus()}};return a.addEventListener("keydown",m),()=>a.removeEventListener("keydown",m)}},[w,d]),s.jsxs(Me,{ref:T,role:"region","aria-label":l.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:E?void 0:"none"},children:[E&&s.jsx(Q,{ref:i,onFocusFromOutsideViewport:()=>{const a=d({tabbingDirection:"forwards"});z(a)}}),s.jsx(te.Slot,{scope:o,children:s.jsx(_.ol,{tabIndex:-1,...p,ref:S})}),E&&s.jsx(Q,{ref:C,onFocusFromOutsideViewport:()=>{const a=d({tabbingDirection:"backwards"});z(a)}})]})});de.displayName=le;var ue="ToastFocusProxy",Q=n.forwardRef((e,t)=>{const{__scopeToast:o,onFocusFromOutsideViewport:r,...l}=e,p=X(ue,o);return s.jsx(Z,{"aria-hidden":!0,tabIndex:0,...l,ref:t,style:{position:"fixed"},onFocus:f=>{var i;const w=f.relatedTarget;!((i=p.viewport)!=null&&i.contains(w))&&r()}})});Q.displayName=ue;var Y="Toast",Ge="toast.swipeStart",Je="toast.swipeMove",Qe="toast.swipeCancel",Ze="toast.swipeEnd",pe=n.forwardRef((e,t)=>{const{forceMount:o,open:r,defaultOpen:l,onOpenChange:p,...f}=e,[w=!0,T]=De({prop:r,defaultProp:l,onChange:p});return s.jsx(Fe,{present:o||w,children:s.jsx(ot,{open:w,...f,ref:t,onClose:()=>T(!1),onPause:U(e.onPause),onResume:U(e.onResume),onSwipeStart:P(e.onSwipeStart,i=>{i.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:P(e.onSwipeMove,i=>{const{x:C,y}=i.detail.delta;i.currentTarget.setAttribute("data-swipe","move"),i.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${C}px`),i.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${y}px`)}),onSwipeCancel:P(e.onSwipeCancel,i=>{i.currentTarget.setAttribute("data-swipe","cancel"),i.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),i.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),i.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),i.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:P(e.onSwipeEnd,i=>{const{x:C,y}=i.detail.delta;i.currentTarget.setAttribute("data-swipe","end"),i.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),i.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),i.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${C}px`),i.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${y}px`),T(!1)})})})});pe.displayName=Y;var[et,tt]=ie(Y,{onClose(){}}),ot=n.forwardRef((e,t)=>{const{__scopeToast:o,type:r="foreground",duration:l,open:p,onClose:f,onEscapeKeyDown:w,onPause:T,onResume:i,onSwipeStart:C,onSwipeMove:y,onSwipeCancel:S,onSwipeEnd:h,...E}=e,d=X(Y,o),[a,m]=n.useState(null),u=W(t,c=>m(c)),v=n.useRef(null),x=n.useRef(null),g=l||d.duration,R=n.useRef(0),I=n.useRef(g),L=n.useRef(0),{onToastAdd:D,onToastRemove:B}=d,F=U(()=>{var b;(a==null?void 0:a.contains(document.activeElement))&&((b=d.viewport)==null||b.focus()),f()}),A=n.useCallback(c=>{!c||c===1/0||(window.clearTimeout(L.current),R.current=new Date().getTime(),L.current=window.setTimeout(F,c))},[F]);n.useEffect(()=>{const c=d.viewport;if(c){const b=()=>{A(I.current),i==null||i()},N=()=>{const O=new Date().getTime()-R.current;I.current=I.current-O,window.clearTimeout(L.current),T==null||T()};return c.addEventListener(G,N),c.addEventListener(J,b),()=>{c.removeEventListener(G,N),c.removeEventListener(J,b)}}},[d.viewport,g,T,i,A]),n.useEffect(()=>{p&&!d.isClosePausedRef.current&&A(g)},[p,g,d.isClosePausedRef,A]),n.useEffect(()=>(D(),()=>B()),[D,B]);const V=n.useMemo(()=>a?Ee(a):null,[a]);return d.viewport?s.jsxs(s.Fragment,{children:[V&&s.jsx(rt,{__scopeToast:o,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:V}),s.jsx(et,{scope:o,onClose:F,children:We.createPortal(s.jsx(te.ItemSlot,{scope:o,children:s.jsx(Le,{asChild:!0,onEscapeKeyDown:P(w,()=>{d.isFocusedToastEscapeKeyDownRef.current||F(),d.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(_.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":p?"open":"closed","data-swipe-direction":d.swipeDirection,...E,ref:u,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:P(e.onKeyDown,c=>{c.key==="Escape"&&(w==null||w(c.nativeEvent),c.nativeEvent.defaultPrevented||(d.isFocusedToastEscapeKeyDownRef.current=!0,F()))}),onPointerDown:P(e.onPointerDown,c=>{c.button===0&&(v.current={x:c.clientX,y:c.clientY})}),onPointerMove:P(e.onPointerMove,c=>{if(!v.current)return;const b=c.clientX-v.current.x,N=c.clientY-v.current.y,O=!!x.current,k=["left","right"].includes(d.swipeDirection),K=["left","up"].includes(d.swipeDirection)?Math.min:Math.max,je=k?K(0,b):0,_e=k?0:K(0,N),q=c.pointerType==="touch"?10:2,$={x:je,y:_e},re={originalEvent:c,delta:$};O?(x.current=$,H(Je,y,re,{discrete:!1})):ne($,d.swipeDirection,q)?(x.current=$,H(Ge,C,re,{discrete:!1}),c.target.setPointerCapture(c.pointerId)):(Math.abs(b)>q||Math.abs(N)>q)&&(v.current=null)}),onPointerUp:P(e.onPointerUp,c=>{const b=x.current,N=c.target;if(N.hasPointerCapture(c.pointerId)&&N.releasePointerCapture(c.pointerId),x.current=null,v.current=null,b){const O=c.currentTarget,k={originalEvent:c,delta:b};ne(b,d.swipeDirection,d.swipeThreshold)?H(Ze,h,k,{discrete:!0}):H(Qe,S,k,{discrete:!0}),O.addEventListener("click",K=>K.preventDefault(),{once:!0})}})})})}),d.viewport)})]}):null}),rt=e=>{const{__scopeToast:t,children:o,...r}=e,l=X(Y,t),[p,f]=n.useState(!1),[w,T]=n.useState(!1);return at(()=>f(!0)),n.useEffect(()=>{const i=window.setTimeout(()=>T(!0),1e3);return()=>window.clearTimeout(i)},[]),w?null:s.jsx(Oe,{asChild:!0,children:s.jsx(Z,{...r,children:p&&s.jsxs(s.Fragment,{children:[l.label," ",o]})})})},st="ToastTitle",fe=n.forwardRef((e,t)=>{const{__scopeToast:o,...r}=e;return s.jsx(_.div,{...r,ref:t})});fe.displayName=st;var nt="ToastDescription",me=n.forwardRef((e,t)=>{const{__scopeToast:o,...r}=e;return s.jsx(_.div,{...r,ref:t})});me.displayName=nt;var ve="ToastAction",we=n.forwardRef((e,t)=>{const{altText:o,...r}=e;return o.trim()?s.jsx(Te,{altText:o,asChild:!0,children:s.jsx(oe,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${ve}\`. Expected non-empty \`string\`.`),null)});we.displayName=ve;var xe="ToastClose",oe=n.forwardRef((e,t)=>{const{__scopeToast:o,...r}=e,l=tt(xe,o);return s.jsx(Te,{asChild:!0,children:s.jsx(_.button,{type:"button",...r,ref:t,onClick:P(e.onClick,l.onClose)})})});oe.displayName=xe;var Te=n.forwardRef((e,t)=>{const{__scopeToast:o,altText:r,...l}=e;return s.jsx(_.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...l,ref:t})});function Ee(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),it(r)){const l=r.ariaHidden||r.hidden||r.style.display==="none",p=r.dataset.radixToastAnnounceExclude==="";if(!l)if(p){const f=r.dataset.radixToastAnnounceAlt;f&&t.push(f)}else t.push(...Ee(r))}}),t}function H(e,t,o,{discrete:r}){const l=o.originalEvent.currentTarget,p=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:o});t&&l.addEventListener(e,t,{once:!0}),r?ke(l,p):l.dispatchEvent(p)}var ne=(e,t,o=0)=>{const r=Math.abs(e.x),l=Math.abs(e.y),p=r>l;return t==="left"||t==="right"?p&&r>o:!p&&l>o};function at(e=()=>{}){const t=U(e);Ve(()=>{let o=0,r=0;return o=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(o),window.cancelAnimationFrame(r)}},[t])}function it(e){return e.nodeType===e.ELEMENT_NODE}function ct(e){const t=[],o=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const l=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||l?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;o.nextNode();)t.push(o.currentNode);return t}function z(e){const t=document.activeElement;return e.some(o=>o===t?!0:(o.focus(),document.activeElement!==t))}var lt=ce,ye=de,he=pe,ge=fe,Ce=me,Re=we,be=oe;const dt=lt,Pe=n.forwardRef(({className:e,...t},o)=>s.jsx(ye,{ref:o,className:M("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Pe.displayName=ye.displayName;const ut=Ke("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Ne=n.forwardRef(({className:e,variant:t,...o},r)=>s.jsx(he,{ref:r,className:M(ut({variant:t}),e),...o}));Ne.displayName=he.displayName;const pt=n.forwardRef(({className:e,...t},o)=>s.jsx(Re,{ref:o,className:M("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium transition-colors hover:bg-secondary focus:outline-none focus:ring-1 focus:ring-ring disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));pt.displayName=Re.displayName;const Se=n.forwardRef(({className:e,...t},o)=>s.jsx(be,{ref:o,className:M("absolute right-1 top-1 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx($e,{className:"h-4 w-4"})}));Se.displayName=be.displayName;const Ie=n.forwardRef(({className:e,...t},o)=>s.jsx(ge,{ref:o,className:M("text-sm font-semibold [&+div]:text-xs",e),...t}));Ie.displayName=ge.displayName;const Ae=n.forwardRef(({className:e,...t},o)=>s.jsx(Ce,{ref:o,className:M("text-sm opacity-90",e),...t}));Ae.displayName=Ce.displayName;function ft(){const{toasts:e}=He();return s.jsxs(dt,{children:[e.map(function({id:t,title:o,description:r,action:l,...p}){return s.jsxs(Ne,{...p,children:[s.jsxs("div",{className:"grid gap-1",children:[o&&s.jsx(Ie,{children:o}),r&&s.jsx(Ae,{children:r})]}),l,s.jsx(Se,{})]},t)}),s.jsx(Pe,{})]})}function Tt({children:e}){return s.jsxs("div",{children:[s.jsx("main",{children:e}),s.jsx(ft,{})]})}export{Tt as G};
